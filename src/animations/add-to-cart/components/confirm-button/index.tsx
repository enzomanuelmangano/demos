import React from 'react';import type { StyleProp, ViewStyle } from 'react-native';import { useWindowDimensions } from 'react-native';import { Gesture, GestureDetector } from 'react-native-gesture-handler';import type { MeasuredDimensions } from 'react-native-reanimated';import Animated, {  runOnJS,  withTiming,  useSharedValue,  interpolate,  useAnimatedStyle,  useDerivedValue,} from 'react-native-reanimated';type ConfirmButtonProps = {  animationProgress: Animated.SharedValue<number>;  layoutData: Animated.SharedValue<null | MeasuredDimensions>;  style?: StyleProp<ViewStyle>;  children?: React.ReactNode;  onConfirm?: () => void;};const ConfirmButton: React.FC<ConfirmButtonProps> = React.memo(  ({ animationProgress, layoutData, style, children, onConfirm }) => {    const { height: SCREEN_HEIGHT, width: SCREEN_WIDTH } =      useWindowDimensions();    const animatedTop = useDerivedValue(() => {      return interpolate(        animationProgress.value,        [0, 1],        [layoutData.value?.pageY ?? 0, SCREEN_HEIGHT - 100],      );    }, []);    const animatedWidth = useDerivedValue(() => {      return interpolate(        animationProgress.value,        [0, 1],        [layoutData.value?.width ?? 0, SCREEN_WIDTH * 0.9],      );    }, []);    const animatedHeight = useDerivedValue(() => {      return interpolate(        animationProgress.value,        [0, 1],        [layoutData.value?.height ?? 0, 45],      );    }, []);    const animatedLeft = useDerivedValue(() => {      return interpolate(        animationProgress.value,        [0, 1],        [layoutData.value?.pageX ?? 0, SCREEN_WIDTH * 0.05],      );    }, []);    const scale = useSharedValue(1);    const tapGesture = Gesture.Tap()      .onTouchesDown(() => {        scale.value = withTiming(0.95);      })      .onTouchesUp(() => {        if (onConfirm) runOnJS(onConfirm)();      })      .onFinalize(() => {        scale.value = withTiming(1);      });    tapGesture.shouldCancelWhenOutside(true);    tapGesture.maxDuration(5000);    const rStyle = useAnimatedStyle(() => {      if (!layoutData.value) {        return {          height: 0,          width: 0,        };      }      return {        height: animatedHeight.value,        width: animatedWidth.value,        zIndex: 10,        top: animatedTop.value,        left: animatedLeft.value,        transform: [{ scale: scale.value }],      };    }, []);    return (      <GestureDetector gesture={tapGesture}>        <Animated.View          style={[            style,            {              position: 'absolute',            },            rStyle,          ]}>          {children}        </Animated.View>      </GestureDetector>    );  },);export { ConfirmButton };